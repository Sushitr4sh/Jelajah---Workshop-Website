<% layout('layouts/boilerplate') -%>
<div class="mb-16">
  <div class="mt-12 flex items-center gap-x-2 px-32 text-xl font-medium">
    <a href="/" class="hover:underline">Jelajah</a>
    <img src="/images/right-arrow.png" alt="" class="w-4" />
    <a href="/account/<%= currentUser._id %>" class="hover:underline"
      >Account</a
    >
    <img src="/images/right-arrow.png" alt="" class="w-4" />
    <a
      href="/account/<%= currentUser._id %>/personal-info"
      class="hover:underline"
      >Personal Info</a
    >
  </div>

  <p class="mt-8 px-32 text-5xl font-semibold">Personal Info</p>

  <main class="mt-16 flex gap-x-16 px-32">
    <form
      class="w-[70%] text-2xl"
      action="/account/<%= currentUser._id %>/personal-info?_method=PUT"
      method="POST"
    >
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="username" class="font-medium">Username</label>
        <div class="flex items-end gap-x-4">
          <input
            type="text"
            id="username"
            name="username"
            placeholder="Username"
            class="mt-2 w-full text-[#828282] focus:outline-none"
            value="<%= currentUser.username %>"
            disabled
          />
        </div>
      </div>
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="gender" class="font-medium">Gender</label>
        <div class="flex items-end gap-x-4">
          <input
            type="text"
            id="gender"
            name="gender"
            placeholder="Gender"
            class="mt-2 w-full focus:outline-none"
            value="<%= currentUser.gender %>"
            disabled
          />
          <button
            class="border-b border-[#828282] font-thin text-[#828282]"
            type="button"
            onclick="enableInput('gender')"
          >
            Add
          </button>
        </div>
      </div>
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="birthDate" class="font-medium">Date of birth</label>
        <div class="flex items-end gap-x-4">
          <input
            type="date"
            id="birthDate"
            name="birthDate"
            placeholder="00/00/00"
            class="mt-2 w-full focus:outline-none"
            value="<%= currentUser.birthDate %>"
          />
          <button
            class="border-b border-[#828282] font-thin text-[#828282]"
            type="button"
          >
            Add
          </button>
          <style>
            input[type="date"]::-webkit-calendar-picker-indicator {
              display: none;
            }
          </style>
        </div>
      </div>
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="email" class="font-medium">Email</label>
        <div class="flex items-end gap-x-4">
          <input
            type="text"
            id="email"
            name="email"
            placeholder="Email"
            class="mt-2 w-full focus:outline-none"
            value="<%= currentUser.email %>"
          />
          <button
            class="border-b border-[#828282] font-thin text-[#828282]"
            type="button"
          >
            Edit
          </button>
        </div>
      </div>
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="phoneNumber" class="font-medium">Phone number</label>
        <div class="flex items-end gap-x-4">
          <input
            type="text"
            id="phoneNumber"
            name="phoneNumber"
            placeholder="08XXXXXXXXXX"
            class="mt-2 w-full focus:outline-none"
            value="<%= currentUser.phoneNumber %>"
          />
          <button
            class="border-b border-[#828282] font-thin text-[#828282]"
            type="button"
          >
            Add
          </button>
        </div>
      </div>
      <div class="mb-4 border-b border-[#828282] pb-4">
        <label for="address" class="font-medium">Address</label>
        <div class="flex items-end gap-x-4">
          <input
            type="text"
            id="address"
            name="address"
            placeholder="JL.XXX, No.xx, Indonesia"
            class="mt-2 w-full focus:outline-none"
            value="<%= currentUser.address %>"
          />
          <button
            class="border-b border-[#828282] font-thin text-[#828282]"
            type="button"
          >
            Add
          </button>
        </div>
      </div>
      <button
        type="submit"
        class="w-full rounded-lg bg-[#972d20] px-3 py-2 font-semibold text-white"
      >
        Update
      </button>
    </form>
    <div class="flex w-[30%] flex-col items-center">
      <img src="/images/profile.png" alt="" srcset="" />
      <p class="mt-8 text-5xl font-bold"><%= currentUser.username %></p>
      <p class="mt-4 text-3xl font-semibold text-[#972d20]">Penjelah Level 1</p>
    </div>
  </main>
</div>

<script>
  function enableInput(inputId) {
    var input = document.getElementById(inputId);
    input.removeAttribute("disabled");
    input.focus();
  }
</script>
